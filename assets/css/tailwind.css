/* Tailwind v4 entry */
@import "tailwindcss";

/* Optional plugins */
@plugin "@tailwindcss/typography";

/* Scan sources (Django templates/JS/Python) */
@source "./templates/**/*.html";
@source "./**/templates/**/*.html";
@source "./static/**/*.js";
@source "./assets/js/**/*.js";
@source "./**/*.py";

/* Brand theme tokens */
@theme {
  --color-bg: #11172a;
  --color-text: #78818f;      /* AA on bg */
  --color-text-dim: #626c7d;  /* meta/labels or large text */
  --color-accent: #599692;
  --color-accent-hover: #6aa09d;
  --color-accent-ring: #7aaba8;
  --color-highlight: #dfe5ec;
  --color-onaccent: #0b141a;

  --color-surface-1: #1f2537;
  --color-surface-2: #292e3f;
  --color-surface-3: #373c4c;
  --color-surface-4: #454a59;
  --color-border:   #585d6a;

  --radius-xl2: 1rem;
  --shadow-soft: 0 10px 30px rgba(0,0,0,.35);
}

/* Custom utilities (no leading dot) */
@utility shadow-soft { box-shadow: var(--shadow-soft) }
@utility rounded-xl2 { border-radius: var(--radius-xl2) }

/* (Optional) include your own overrides last */
@import "./style.css";

/* ===== Base overrides: set body + links palette-aware ================== */
@layer base {
  /* Global body colors */
  html, body {
    background-color: var(--color-bg);
    color: var(--color-text);
  }
  /* Make all links use your accent instead of Bootstrap blue */
  a {
    color: var(--color-accent);
    text-decoration: none;
  }
  a:hover { color: var(--color-accent-hover); }
  a:focus-visible {
    outline: 2px solid var(--color-accent-ring);
    outline-offset: 3px;
    border-radius: 8px;
  }
  /* Emphasis should pop on dark */
  strong, b { color: var(--color-highlight); }
}

/* ===== Utilities: better text for light surfaces ======================= */
/* When text sits on white/light backgrounds, use a darker ink color */
@theme {
  --color-ink: #2f3a49; /* readable on white/light surfaces */
}
@utility text-ink { color: var(--color-ink) }

/* --- Button component refresh (palette + Bootstrap-proof) --- */
@layer components {
  /* Common reset for anchors styled as buttons */
  .btn, .btn-ghost {
    -webkit-appearance: none;
    appearance: none;
    text-decoration: none;
    font-weight: 600;
    line-height: 1.25;
    white-space: nowrap;
    cursor: pointer;
  }

  /* Primary button (accent) */
  .btn {
    background: var(--color-accent);
    color: var(--color-onaccent);
    border: 1px solid transparent;
    border-radius: var(--radius-xl2);
    padding: .70rem 1.1rem;
    box-shadow: var(--shadow-soft);
    display: inline-flex; align-items: center; gap: .5rem;
    transition: background-color .2s ease, transform .1s ease;
  }
  .btn:hover { background: var(--color-accent-hover); }
  .btn:active { transform: translateY(1px) scale(.995); }
  .btn:focus-visible { outline: 2px solid var(--color-accent-ring); outline-offset: 3px; }
  .btn:disabled, .btn[aria-disabled="true"] { opacity: .6; pointer-events: none; }

  /* Ghost/secondary button */
  .btn-ghost {
    background: transparent;
    color: var(--color-accent);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xl2);
    padding: .70rem 1.1rem;
    display: inline-flex; align-items: center; gap: .5rem;
    transition: background-color .2s ease, border-color .2s ease, color .2s ease, transform .1s ease;
  }
  .btn-ghost:hover { background: var(--color-surface-2); border-color: var(--color-accent-hover); }
  .btn-ghost:active { transform: translateY(1px) scale(.995); }
  .btn-ghost:focus-visible { outline: 2px solid var(--color-accent-ring); outline-offset: 3px; }

  /* If both .btn and .btn-ghost are present, prefer ghost look */
  .btn.btn-ghost {
    background: transparent;
    color: var(--color-accent);
    border-color: var(--color-border);
    box-shadow: none;
  }
  .btn.btn-ghost:hover { background: var(--color-surface-2); border-color: var(--color-accent-hover); }
}

/* Kill Bootstrap's default blue/underline on anchors-as-buttons */
@layer base {
  .btn, .btn-ghost,
  .btn:link, .btn:visited,
  .btn-ghost:link, .btn-ghost:visited {
    color: inherit;
    text-decoration: none;
  }
}

/* Better readability on light backgrounds */
@theme { --color-ink: #2f3a49; }  /* dark ink for light surfaces */
@utility text-ink { color: var(--color-ink) }
@layer base {
  /* Auto-ink for common light blocks (kept conservative) */
  .bg-white :where(p, li, small) { color: var(--color-ink); }
}

@theme { --color-ink-strong: #0f2537; }   /* vivid dark (good on white) */
@utility text-ink-strong { color: var(--color-ink-strong) }

