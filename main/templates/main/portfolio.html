{% extends 'main/base.html' %}
{% load static %}

{% block title %}نمونه‌کارهای طراحی سایت با Django | فرزاد سیف{% endblock %}
{% block meta_description %}نمونه‌کارهای طراحی و توسعه وب با Django توسط فرزاد سیف. مشاهده پروژه‌های واقعی طراحی سایت با رابط کاربری حرفه‌ای و سئو مناسب.{% endblock %}
{% block og_title %}نمونه‌کارهای SafeCode{% endblock %}
{% block og_description %}مجموعه‌ای از پروژه‌های طراحی سایت و اپلیکیشن وب با Django توسط فرزاد سیف با طراحی مدرن و سئو محور.{% endblock %}

{% block content %}

<style>
  .portfolio-grid{
    display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:24px;
  }
  .portfolio-card{
    background:#fff; border-radius:16px; padding:16px;
    box-shadow:0 4px 20px rgba(0,0,0,.05);
    display:flex; flex-direction:column; overflow:hidden;
    transition:transform .3s ease, box-shadow .3s ease;
  }
  .portfolio-card:hover{ transform:translateY(-4px); box-shadow:0 8px 28px rgba(0,0,0,.08) }

  .project-icon{
    width:110px; height:110px; margin:12px auto 8px; border-radius:22px;
    background:linear-gradient(135deg,#667eea,#764ba2);
    display:flex; align-items:center; justify-content:center;
    box-shadow:0 6px 18px rgba(102,126,234,.25);
  }
  .project-icon img{ width:70px; height:70px; object-fit:contain; display:block; }

  .card-body{ padding:12px; display:flex; flex-direction:column; }
  .card-title{ font-size:1rem; font-weight:700; color:#2d3748; margin:6px 0 0 }
  .card-text{ color:#6b7a90; font-size:.92rem; line-height:1.7; margin:10px 0 14px }
  .project-btn{
    margin-top:auto; align-self:flex-start;
    background:linear-gradient(135deg,#667eea,#764ba2); color:#fff;
    border:none; border-radius:10px; padding:8px 14px; text-decoration:none; font-weight:600;
    transition:filter .2s ease; display:inline-flex; align-items:center; gap:8px;
  }
  .project-btn:hover{ filter:brightness(1.05) }

  @media (max-width:480px){
    .project-icon{ width:96px; height:96px; border-radius:18px }
    .project-icon img{ width:62px; height:62px }
  }
</style>

<section class="py-4 py-md-5 container">
  <h2 class="text-center fw-bold mb-5" style="font-size:clamp(1.5rem,4vw,2.3rem);">
    نمونه‌کارهای طراحی سایت
  </h2>

  <div class="portfolio-grid">

    {# ----- Dynamic items (فقط آیتم‌هایی که دستی نیاوردیم) ----- #}
    {% for item in items %}
      {% if item.title != 'Todo App' and item.title != 'پروژه Blog CMS' and item.title != 'وب‌اپ هواشناسی' %}
        <div class="portfolio-card">
          <div class="project-icon">
            {# اولویت: icon_name → slugify(title).svg → default.svg #}
            {% if item.icon_name %}
              <img src="{% static 'main/icons/' %}{{ item.icon_name }}" alt="Icon - {{ item.title }}" loading="lazy" decoding="async" width="70" height="70">
            {% else %}
              {% with slug=item.title|slugify %}
                {% if slug %}
                  <img src="{% static 'main/icons/' %}{{ slug }}.svg" alt="Icon - {{ item.title }}" loading="lazy" decoding="async" width="70" height="70">
                {% else %}
                  <img src="{% static 'main/icons/default.svg' %}" alt="Icon - {{ item.title }}" loading="lazy" decoding="async" width="70" height="70">
                {% endif %}
              {% endwith %}
            {% endif %}
          </div>

          <div class="card-body">
            <h3 class="card-title">{{ item.title }}</h3>
            <p class="card-text">{{ item.description|truncatechars:120 }}</p>
            {% if item.project_url %}
              <a href="{{ item.project_url }}" class="project-btn" target="_blank" rel="noopener">
                مشاهده پروژه
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"
                     viewBox="0 0 24 24" stroke="currentColor" style="color:#fff;">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M14 3h7m0 0v7m0-7L10 14"/>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M5 21h14a2 2 0 0 0 2-2V9"/>
                </svg>
              </a>
            {% endif %}
          </div>
        </div>
      {% endif %}
    {% empty %}
      <div class="text-center text-muted">هیچ نمونه‌کاری ثبت نشده است.</div>
    {% endfor %}

    {# ----- Special projects (manual) ----- #}

    {# Blog CMS #}
    <div class="portfolio-card">
      <div class="project-icon">
        <img src="{% static 'main/icons/cms.svg' %}" alt="CMS icon" loading="lazy" decoding="async" width="70" height="70">
      </div>
      <div class="card-body">
        <h3 class="card-title"> CMS blog</h3>
        <p class="card-text">سیستم ساده مدیریت محتوا با قابلیت انتشار، ویرایش و یا حذف پست‌ها.</p>
        <a href="{% url 'blog:post_list' %}" class="project-btn" target="_blank" rel="noopener">
          مشاهده پروژه
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"
               viewBox="0 0 24 24" stroke="currentColor" style="color:#fff;">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M14 3h7m0 0v7m0-7L10 14"/>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M5 21h14a2 2 0 0 0 2-2V9"/>
          </svg>
        </a>
      </div>
    </div>

    {# Weather App #}
    <div class="portfolio-card">
      <div class="project-icon">
        <img src="{% static 'main/icons/weather.svg' %}" alt="Weather App icon" loading="lazy" decoding="async" width="70" height="70">
      </div>
      <div class="card-body">
        <h3 class="card-title">وب‌اپ هواشناسی</h3>
        <p class="card-text">نمایش لحظه‌ای وضعیت هوا، ساعت محلی و پیش‌بینی  آب و هوای روز های آینده.</p>
        <a href="{% static 'weather-app/index.html' %}" class="project-btn" target="_blank" rel="noopener">
          مشاهده پروژه
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"
               viewBox="0 0 24 24" stroke="currentColor" style="color:#fff;">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M14 3h7m0 0v7m0-7L10 14"/>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M5 21h14a2 2 0 0 0 2-2V9"/>
          </svg>
        </a>
      </div>
    </div>

    {# Todo App (static demo build) #}
    <div class="portfolio-card">
      <div class="project-icon">
        <img src="{% static 'main/icons/todo-app.svg' %}" alt="Todo App icon" loading="lazy" decoding="async" width="70" height="70">
      </div>
      <div class="card-body">
        <h3 class="card-title">وب‌اپ فهرست کارها</h3>
        <p class="card-text">یک اپلیکیشن ساده و کاربرپسند برای مدیریت کارهای روزانه.</p>
        <a href="{% static 'todo-app/index.html' %}" class="project-btn" target="_blank" rel="noopener">
          مشاهده پروژه
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"
               viewBox="0 0 24 24" stroke="currentColor" style="color:#fff;">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M14 3h7m0 0v7m0-7L10 14"/>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M5 21h14a2 2 0 0 0 2-2V9"/>
          </svg>
        </a>
      </div>
    </div>

  </div>
</section>
{% endblock %}
